{#{% extends 'SonataDoctrineORMAdminBundle:Form:form_admin_fields.html.twig' %}#}

{% block core_media_file_input_widget %}
    {% set value = form.vars.data %}
    {% set sonata_admin_enabled = true %}

    <div class="col-xs-3">
        {% if value is not empty and value.providerReference %}
            {% if sonata_admin_enabled is defined and sonata_admin_enabled %}
                <a href="{{ url('admin_application_media_media_edit', {id: value.id}) }}"><strong>{{ value.name }}</strong></a>
            {% else %}
                <strong>{{ value.name }}</strong>
            {% endif %}
            <br />
            <span type="label">{{ value.providerName|trans({}, 'SonataMediaBundle') }}</span> ~ {{ value.context }}
        {% else %}
            <div class="pull-left" style="margin-right: 5px">
                <img src="{{ asset('bundles/sonatamedia/grey.png') }}" class="img-polaroid media-object" style="width: 85px; height: 85px"/>
            </div>
            <strong>{{ 'no_linked_media'|trans({}, 'SonataMediaBundle') }}</strong> <br />
            <span type="label">{{ form.vars['provider']|trans({}, 'SonataMediaBundle') }} ~ {{ form.vars['context']|trans({}, 'SonataMediaBundle') }}</span>
        {% endif %}
    </div>

    <div class="col-xs-3">
        {{ 'link_media'|trans({}, 'SonataMediaBundle') }}
        {{ block('form_widget') }}
    </div>
{% endblock %}